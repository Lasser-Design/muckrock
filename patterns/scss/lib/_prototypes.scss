@import 'grid';

// Textbox
%textbox {
    @include box-sizing(border-box);
    border: $base-border-width solid $color-grey;
    border-radius: $base-border-radius;
    line-height: $base-vertical-rhythm;
    ul {
        list-style-type: none;
        padding-left: 0;
    }
}

// Textbox -> Button
%button { @extend %textbox;
    display: inline-block;
    margin: 0.25em 0.325em 0.25em 0;
    padding: $base-vertical-rhythm/4 $base-vertical-rhythm/1.5;
    text-decoration: none;
    text-align: center;
    &:hover { text-decoration: none; }
}

// Textbox -> Panel
%panel { @extend %textbox;
    display: block;
    margin:  $base-vertical-rhythm/2 0;
    padding: $base-vertical-rhythm/2;
    border-color: $color-grey;
    @include media($large-layout) {
        padding: $base-vertical-rhythm/2 $base-vertical-rhythm;
    }
}

// Textbox -> Input
%input { @extend %textbox;
    display: inline-block;
    padding: $base-vertical-rhythm/4 $base-vertical-rhythm/3 $base-vertical-rhythm/4 $base-vertical-rhythm/2;
    border-color: $color-grey;
    &:disabled {
        background-color: lighten($color-disabled, 25%);
        border: 1px solid $color-disabled;
        color: $color-disabled;
    }
}

%article {
    @extend %body;
    > .meta {
        @extend %row;
        header {
            @extend %two-thirds;
            margin: $base-vertical-rhythm/2 0 0;
            h1, h2 { font-weight: 400; }
            h1 { @include font-sizing(1.5); }
            h2 { @include font-sizing(1); }
            @include media($medium-layout) {
                padding-right: $base-vertical-rhythm;
                h1 { @include font-sizing(1.75); }
                h2 { @include font-sizing(1.25); }
            }
        }
        aside {
            @extend %third;
            margin: $base-vertical-rhythm/2 0;
            dl { margin-top: 0; }
        }
    }
    
    > .actions {
        form {
            list-style-type: none;
            padding: $base-vertical-rhythm/2;
            border: $base-border-width solid $color-grey;
            border-radius: $base-border-radius;
            background-color: darken($color-white, 10%);
        }
    }
    
    > .main {
        @extend %full;
        padding-top: $base-vertical-rhythm;
    }

    summary { 
        font-weight: 300;
        @include media($medium-layout) {
            display: block;
            @include font-sizing(1.25);
        }
    }
}

%collection {
    @extend %body;
    @extend %edge-to-edge;
    @include outer-container;
    header {
        @extend %row;
        .hgroup { @extend %three-quarters; }
        // margin-bottom: $base-vertical-rhythm/2;
        h1 {
            @include font-sizing(3,3);
            margin-top: 0;
        }
        .commands {
            @extend %quarter;
            overflow: hidden;
            .button {
                display: block;
                margin-top: $base-vertical-rhythm/1.5;
                @include media($medium-layout) {
                    display: inline-block;
                    float: right;
                }
            }
        }
    }
    .filters {
        @include row;
        ul {
            padding-left: 0;
            @include span-columns(6);
        }
        li {
            display: inline-block;
            a {
                padding: $base-vertical-rhythm/4 $base-vertical-rhythm/2;
                margin: 0;
                border-radius: $base-border-radius;
                text-decoration: none;
                &:hover, &.current-tab {
                    color: $color-white;
                    background-color: $color-primary;
                }
                &:active, &.current-tab:hover {
                    background-color: lighten($color-primary, 10%);
                }
                &.current-tab {
                    cursor: default;
                }
            }
        }
        
        $filter-toggle: '"filter-checkbox"';
        label[for=#{$filter-toggle}] {
            @include span-columns(2);
            @include shift(4);
            @include omega();
            margin-top: $base-vertical-rhythm/2;
            margin-bottom: $base-vertical-rhythm/2;
            display: block;
            cursor: pointer;
            color: $color-primary;
            &:hover {
                text-decoration: underline;
            }    
        }
        input[name=#{$filter-toggle}] {
            display: none;
            &:checked + form { 
                display: block;
            }
        }
        form {
            display: none;
            fieldset { display: inline-block; }
            label { @extend dfn; }
        }
    }
    ul.list {
        @extend %full;
        margin: $base-vertical-rhythm 0 0;
        padding: 0;
        list-style-type: none;
        li { 
            padding: $base-vertical-rhythm/4 $base-vertical-rhythm;
            margin: 0;
            &:nth-of-type(odd) { background-color: $color-odd-background; }
            @media screen and (min-width: 540px) {
                border-radius: $base-border-radius;
            }
        }
    }
    h2, h3 { font-weight: 400; }
    h2 { @include font-sizing(1.25); }
    h3 { @include font-sizing(1); }
    
    .controls {
        width: 100%;
        padding: $base-vertical-rhythm/2;
        margin: 0 0 $base-vertical-rhythm/2 0;
        border: $base-border-width solid $color-grey;
        border-radius: $base-border-radius;
        background-color: darken($color-white, 10%);
        @include row();
        button, .button {
            display: block;
            @include span-columns(6);
            @include media($medium-layout) { @include span-columns(2); }
            @include media($large-layout) { @include span-columns(3); }
        }
    }
}