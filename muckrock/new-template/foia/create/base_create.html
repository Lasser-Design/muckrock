{% extends 'base.html' %}
{% load humanize %}
{% load mathfilters %}

{% block webpage %}

    {% include 'lib/sidebar.html' with hidden=1 %}
    <div class="container">
        {% include 'lib/header.html' %}
        <div class="create-request">
            <header>
                <h1>Create a Request</h1>
                {% with step=wizard.steps.step1 steps=wizard.steps.count %}
                <nav>
                    <ul>
                        {% for each_step in wizard.steps.all %}
                            <li>{{ each_step }}</li>
                        {% endfor %}
                    </ul>
                </nav>
                <object class="progress-bar">
                    <span class="meter
                                {% if step == steps %} completed{% endif %}"
                          style="width: {{ step|div:steps|mul:100 }}%;">
                        Step {{ step }} of {{ steps }}
                    </span>
                </object>
                {% endwith %}
            </header>
            <form action="" method="post">
                {% csrf_token %}
                {{ wizard.management_form }}
                {% if wizard.form.forms %}
                    {{ wizard.form.management_form }}
                    {% block forms %}
                        {% for form in wizard.form.forms %}
                            {{ form }}
                        {% endfor %}
                    {% endblock forms %}
                {% else %}
                    {% block form %}
                        {{ wizard.form }}
                    {% endblock form %}
                {% endif %}
                <button type="submit">Next</button>
            </form>
        </div>
        {% include 'lib/footer.html' %}
    </div>
{% endblock webpage %}