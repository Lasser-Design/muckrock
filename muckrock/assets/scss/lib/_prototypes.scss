@import 'grid';

%border { border: $base-border-width solid $color-grey; }
%border-radius { border-radius: $base-border-radius; }

// Textbox
%textbox {
    @include box-sizing(border-box);
    @extend %border;
    @extend %border-radius;
    @include outer-container;
    ul {
        list-style-type: none;
        padding-left: 0;
    }
    line-height: $base-vertical-rhythm;
    border-color: $color-grey;
}

// Textbox -> Button
%button {
    @extend %textbox;
    display: inline-block;
    margin: 0.25em 0.325em 0.25em 0;
    padding: $base-padding/4 $base-padding/1.5;
    text-decoration: none;
    text-align: center;
    &:hover { text-decoration: none; }
}

// Textbox -> Panel
%panel {
    @extend %textbox;
    overflow: hidden;
    display: block;
    width: 100%;
    margin:  $base-margin/2 0;
    padding: $base-padding/6 $base-padding/3;

}

// Textbox -> Input
%input {
    @extend %textbox;
    display: inline-block;
    padding: $base-padding/4 $base-padding/3 $base-padding/4 $base-padding/2;
    &:disabled {
        background-color: lighten($color-disabled, 25%);
        border: 1px solid $color-disabled;
        color: $color-disabled;
    }
}

// Textbox -> Panel -> Controls
%controls {
    @extend %panel;
}

%detail {
    @extend %body;
    @extend %edge-to-edge;
    margin: 0 auto;
    .header-container {
        @include outer-container;
        @extend %base-spacing;
        .main {
            @extend %two-thirds;
            margin: $base-margin/2 0 0;
            h1 { @include font-sizing(1.5); }
            h2 { @include font-sizing(1); }
            @include media($medium-layout) {
                padding-right: $base-padding;
                h1 { @include font-sizing(2); }
                h2 { @include font-sizing(1.5); }
            }
        }
        .aside {
            @extend %third;
            margin: $base-vertical-rhythm/2 0;
            dl { margin-top: 0; }
        }
        summary { 
            font-weight: $light;
            @include media($medium-layout) {
                display: block;
                @include font-sizing(1.25);
            }
        }
    }
    .body {
        @include outer-container;
        @extend %base-spacing;
        .stats {
            @include row;
            dl { @extend %quarter; }
        }
    }
    .actions {
        @extend %controls;
        width: auto;
        @include media($medium-layout){
            margin: $base-margin/2 $base-margin;
        }
    }
}

%collection {
    @extend %body;
    @extend %edge-to-edge;
    @include outer-container;
    header {
        @include row;
        .hgroup { @extend %three-quarters; }
        // margin-bottom: $base-vertical-rhythm/2;
        h1 {
            @include font-sizing(3,3);
            margin-top: 0;
        }
        .commands {
            @extend %quarter;
            overflow: hidden;
            .button {
                display: block;
                margin-top: $base-vertical-rhythm/1.5;
                @include media($medium-layout) {
                    display: inline-block;
                    float: right;
                }
            }
        }
    }
    .filters {
        @include row;
        ul { @extend %two-thirds; }
        li { display: inline-block; }
        li a {
            margin: 0;
            padding: $base-vertical-rhythm/4 $base-vertical-rhythm/2;
            @extend %border-radius;
            text-decoration: none;
            &:hover, &.current-tab {
                color: $color-white;
                background-color: $color-primary;
            }
            &:active { background-color: lighten($color-primary, 10%); }
            &.current-tab { cursor: default; }
        }
        
        $filter-toggle: '"filter-checkbox"';
        label[for=#{$filter-toggle}] {
            @extend %third;
            @include omega;
            margin-top: $base-vertical-rhythm/2;
            margin-bottom: $base-vertical-rhythm/2;
            display: block;
            cursor: pointer;
            color: $color-primary;
            text-align: right;
            &:hover {
                text-decoration: underline;
            }    
        }
        input[name=#{$filter-toggle}] {
            display: none;
            & + form { display: none; }
            &:checked + form { display: block; }
        }
    }
    ul.list {
        margin: $base-vertical-rhythm 0 0;
        padding: 0;
        list-style-type: none;
        li { 
            padding: $base-vertical-rhythm/4 $base-vertical-rhythm;
            margin: 0;
            &:nth-of-type(odd) { background-color: $color-odd-background; }
            @media screen and (min-width: 540px) {
                border-radius: $base-border-radius;
            }
        }
    }
    h2, h3 { font-weight: $normal; }
    h2 { @include font-sizing(1.25); }
    h3 { @include font-sizing(1); }
    
    .controls {
        @extend %controls;
        @include row();
        button, .button {
            display: block;
            @include span-columns(6);
            @include media($medium-layout) { @include span-columns(2); }
            @include media($large-layout) { @include span-columns(3); }
        }
    }
}